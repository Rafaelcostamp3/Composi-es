<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SoundCloud Player Minimalista</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{
      display:flex;
      align-items:center;
      justify-content:center;
      height:100%;
      font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
      background:linear-gradient(180deg,#0f0f10 0%, #121217 100%);
      color:#e9e9ea;
    }

    .sc-player-wrap{
      max-width:900px;
      margin:40px auto;
      padding:24px;
      background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));
      border-radius:16px;
      box-shadow:0 8px 30px rgba(2,6,23,0.6);
      display:flex;
      gap:20px;
      align-items:center;
      transition:all .3s ease;
      min-height:160px;
    }

    .sc-art{
      width:220px;
      height:220px;
      border-radius:12px;
      overflow:hidden;
      flex-shrink:0;
      background:linear-gradient(135deg,#1b1b1f 0%, #151418 100%);
      display:flex;
      align-items:center;
      justify-content:center;
      border:1px solid rgba(255,255,255,0.03);
    }
    .sc-art img{width:100%;height:100%;object-fit:cover;display:block}

    .sc-info{flex:1;display:flex;flex-direction:column;align-items:center;text-align:center;gap:14px}
    .title{font-size:20px;font-weight:600;letter-spacing:0.2px}

    .controls{display:flex;align-items:center;gap:14px;flex-wrap:wrap;justify-content:center}
    .btn{background:transparent;border:0;padding:10px;border-radius:10px;cursor:pointer;display:inline-grid;place-items:center;transition:all .18s ease;color:#fff}
    .btn:hover{transform:translateY(-3px);filter:brightness(1.1)}

    .play{width:60px;height:60px;background:linear-gradient(135deg,#c73636,#ff6b6b);box-shadow:0 8px 24px rgba(199,54,54,0.22);border-radius:14px}
    .mini{width:42px;height:42px;background:rgba(255,255,255,0.02);border-radius:10px}

    @media (max-width:600px){
      .sc-player-wrap{flex-direction:column;align-items:center;padding:18px}
      .sc-art{width:160px;height:160px}
      .title{font-size:18px}
    }
  </style>
</head>
<body>

  <div class="sc-player-wrap" role="region" aria-label="SoundCloud player">
    <div class="sc-art" id="sc-art">
      <svg width="90" height="90" viewBox="0 0 24 24" fill="none" style="opacity:.06">
        <path d="M12 2C7 2 3.4 5.6 3.4 10.2c0 3 1.7 5.6 4.4 7.1L12 22l4.2-4.7c2.7-1.5 4.4-4.1 4.4-7.1C20.6 5.6 17 2 12 2z" fill="currentColor"/>
      </svg>
    </div>

    <div class="sc-info">
      <div class="title" id="sc-title">Carregando música...</div>

      <div class="controls">
        <button class="btn mini" id="btn-prev" title="Anterior">
          <svg viewBox="0 0 24 24" width="18" height="18"><path d="M6 6v12l8.5-6L6 6zM18 6v12h-2V6h2z" fill="currentColor"/></svg>
        </button>

        <button class="btn play" id="btn-play" aria-label="Play/Pause">
          <svg id="icon-play" viewBox="0 0 24 24" width="26" height="26"><path d="M5 3v18l15-9L5 3z" fill="#fff"/></svg>
          <svg id="icon-pause" viewBox="0 0 24 24" width="26" height="26" style="display:none"><path d="M6 4h4v16H6zM14 4h4v16h-4z" fill="#fff"/></svg>
        </button>

        <button class="btn mini" id="btn-next" title="Próxima">
          <svg viewBox="0 0 24 24" width="18" height="18"><path d="M18 6v12l-8.5-6L18 6zM6 6v12H4V6h2z" fill="currentColor"/></svg>
        </button>
      </div>
    </div>
  </div>

  <iframe id="sc-player-iframe" width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay"
    src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/soundcloud%253Aplaylists%253A2108588519&color=%23c73636&auto_play=false"
    style="display:none"></iframe>

  <script src="https://w.soundcloud.com/player/api.js"></script>
  <script>
    const iframe = document.getElementById('sc-player-iframe');
    const widget = SC.Widget(iframe);
    const btnPlay = document.getElementById('btn-play');
    const iconPlay = document.getElementById('icon-play');
    const iconPause = document.getElementById('icon-pause');
    const btnPrev = document.getElementById('btn-prev');
    const btnNext = document.getElementById('btn-next');
    const scArt = document.getElementById('sc-art');
    const scTitle = document.getElementById('sc-title');
    let isPlaying = false;

    // Atualiza título e capa da faixa atual
    function updateTrackInfo() {
      widget.getCurrentSound(function(sound) {
        if (sound) {
          scTitle.textContent = sound.title || 'Sem título';
          const art = (sound.artwork_url || (sound.user && sound.user.avatar_url))
            ? (sound.artwork_url || sound.user.avatar_url).replace('-large', '-t500x500')
            : '';
          if (art) scArt.innerHTML = '<img src="' + art + '" alt="Capa">';
        }
      });
    }

    // Carrega automaticamente ao inicializar
    widget.bind(SC.Widget.Events.READY, function() {
      updateTrackInfo();
    });

    widget.bind(SC.Widget.Events.PLAY, function(){
      isPlaying = true; toggleIcons();
      updateTrackInfo();
    });

    widget.bind(SC.Widget.Events.PAUSE, function(){ isPlaying = false; toggleIcons(); });
    widget.bind(SC.Widget.Events.FINISH, function(){ isPlaying = false; toggleIcons(); });

    function toggleIcons(){
      if(isPlaying){ iconPlay.style.display='none'; iconPause.style.display='block'; }
      else{ iconPlay.style.display='block'; iconPause.style.display='none'; }
    }

    btnPlay.addEventListener('click', function(){
      widget.isPaused(function(paused){ if(paused) widget.play(); else widget.pause(); });
    });

    btnPrev.addEventListener('click', function(){ widget.prev(); });
    btnNext.addEventListener('click', function(){ widget.next(); });
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Player Sofisticado - Rafael Costa</title>
<style>
:root {
  --bg:#1a1a1a;
  --box:#252525;
  --accent:#c73636;
  --text:#e0e0e0;
  --shadow:rgba(0,0,0,0.7);
}

body {
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:var(--bg);
  font-family:'Inter', sans-serif;
  color:var(--text);
}

.player-container {
  width:min(420px,95vw);
  background:var(--box);
  border-radius:16px;
  box-shadow:0 10px 40px var(--shadow);
  overflow:hidden;
  display:flex;
  flex-direction:column;
}

.player-header {
  padding:16px;
  border-bottom:1px solid rgba(255,255,255,0.1);
  font-weight:600;
  font-size:16px;
  text-align:center;
  background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(0,0,0,0.05));
}

.track-list {
  max-height:250px;
  overflow-y:auto;
}

.track {
  padding:10px 16px;
  border-bottom:1px solid rgba(255,255,255,0.05);
  cursor:pointer;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.track.active {
  background:rgba(199,54,54,0.2);
}

.controls {
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:12px 16px;
  background:rgba(0,0,0,0.1);
}

.controls button {
  background:var(--accent);
  border:none;
  border-radius:50%;
  width:40px;
  height:40px;
  color:white;
  font-size:18px;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  transition:transform 0.2s;
}

.controls button:hover {
  transform:scale(1.1);
}

.progress-bar {
  flex:1;
  height:6px;
  background:rgba(255,255,255,0.2);
  border-radius:3px;
  margin:0 12px;
  position:relative;
  overflow:hidden;
}

.progress-bar-inner {
  height:100%;
  width:0%;
  background:var(--accent);
  border-radius:3px;
  transition:width 0.1s linear;
}

.credit {
  font-size:11px;
  padding:8px 16px;
  text-align:center;
  color:var(--text);
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.credit a {
  color:var(--text);
  text-decoration:none;
  font-weight:300;
}

@media (max-width:360px){
  .player-header{ font-size:14px; padding:12px; }
  .controls button{ width:36px; height:36px; font-size:16px; }
}
</style>
</head>
<body>

<div class="player-container">
  <div class="player-header">Composições Rafael Costa</div>

  <div class="track-list" id="trackList">
    <!-- Faixas serão inseridas via JS -->
  </div>

  <div class="controls">
    <button id="prev">&#9664;</button>
    <button id="playPause">&#9658;</button>
    <button id="next">&#9654;</button>
    <div class="progress-bar">
      <div class="progress-bar-inner" id="progress"></div>
    </div>
  </div>

  <div class="credit">
    Rafael Costa · Composições Rafael Costa
  </div>
</div>

<script>
// Lista de faixas (pode ser local ou URL)
const tracks = [
  { title: 'Faixa 1', src: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3' },
  { title: 'Faixa 2', src: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3' },
  { title: 'Faixa 3', src: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3' },
  { title: 'Faixa 4', src: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3' }
];

let currentTrack = 0;
let isPlaying = false;

const trackListEl = document.getElementById('trackList');
const playPauseBtn = document.getElementById('playPause');
const prevBtn = document.getElementById('prev');
const nextBtn = document.getElementById('next');
const progressEl = document.getElementById('progress');

// Cria elemento de áudio
const audio = new Audio();
audio.src = tracks[currentTrack].src;

// Preenche lista de faixas
tracks.forEach((track, i) => {
  const div = document.createElement('div');
  div.className = 'track';
  div.textContent = track.title;
  div.addEventListener('click', () => playTrack(i));
  trackListEl.appendChild(div);
});

function updateTrackList() {
  document.querySelectorAll('.track').forEach((el, i) => {
    el.classList.toggle('active', i === currentTrack);
  });
}

function playTrack(index) {
  currentTrack = index;
  audio.src = tracks[currentTrack].src;
  audio.play();
  isPlaying = true;
  updatePlayButton();
  updateTrackList();
}

function togglePlay() {
  if(isPlaying) audio.pause();
  else audio.play();
  isPlaying = !isPlaying;
  updatePlayButton();
}

function updatePlayButton() {
  playPauseBtn.textContent = isPlaying ? '❚❚' : '▶';
}

function nextTrack() {
  currentTrack = (currentTrack + 1) % tracks.length;
  playTrack(currentTrack);
}

function prevTrack() {
  currentTrack = (currentTrack - 1 + tracks.length) % tracks.length;
  playTrack(currentTrack);
}

playPauseBtn.addEventListener('click', togglePlay);
nextBtn.addEventListener('click', nextTrack);
prevBtn.addEventListener('click', prevTrack);

audio.addEventListener('timeupdate', () => {
  progressEl.style.width = `${(audio.currentTime / audio.duration) * 100}%`;
});

audio.addEventListener('ended', nextTrack);

updateTrackList();
</script>

</body>
</html>
